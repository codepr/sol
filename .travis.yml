os: linux
language: c
compiler:
  - gcc

dist:
  - bionic

sudo: true

before_script:
  - sudo apt-get update -qq
  - sudo apt-get install -y libssl-dev python-all python3-all uuid-dev openssl
  - sudo pip install paho-mqtt
  - sudo ln -s /usr/bin/gcc-9 /usr/local/bin/gcc
  - export CC=/usr/bin/gcc-9
  - cmake .

script:
  - make sol
  - make sol_test

addons:
  apt:
    sources:
      - sourceline: "ppa:ubuntu-toolchain-r/test"
    packages:
      - gcc-9
